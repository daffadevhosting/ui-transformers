<!DOCTYPE html>
<html lang="id-ID">
  <head>
    <meta charset="UTF-8" />
    <title>UI Transformer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/src/style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
      body {
        font-family: 'Space Grotesk', sans-serif;
      }
      .glassmorph {
        background: rgba(17, 25, 40, 0.5);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      #preview-modal {
        backdrop-filter: blur(4px);
      }
      #preview-frame {
        background-color: white;
      }
      #preview-modal.show #preview-content {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
<script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="SB-Mid-client-i2KW02MfN9duiyJ9"></script>
  </head>
  <body class="bg-gradient-to-br from-gray-900 to-black min-h-screen flex flex-col items-center justify-start md:px-6 px-3 md:py-10 py-2">

    <div class="glassmorph w-full max-w-5xl bg-gray-800 shadow-xl rounded-2xl p-4 md:p-8 space-y-6 border border-gray-200">

      <div class="flex items-center justify-between space-x-4">
        <h1 class="text-2xl md:text-4xl font-extrabold text-white text-left leading-tight">
          <i class="fa-solid fa-code text-blue-400"></i> UI Transformer
        </h1>
        <div class="flex gap-2 items-center-safe">
          <div id="user-info" class="hidden text-sm text-gray-700"></div>
          <button id="login-btn" class="cursor-pointer bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded">
            Login
          </button>
          <button id="logout-btn" class="cursor-pointer bg-red-500 hover:bg-red-600 text-white px-4 text-sm py-2 rounded hidden">
            Logout
          </button>
        </div>
      </div>

      <p class="text-gray-400 text-center text-base -mt-2">
        Redesign website atau instruksikan untuk jadi HTML + TailwindCSS dengan AI
      </p>

      <div class="md:grid md:grid-cols-2 md:gap-6">
        <div class="md:col-span-1 order-1 md:order-1">
          <label for="output" class="block text-sm font-medium text-gray-500 mb-1">Output HTML + Tailwind</label>
          <pre
            id="output"
            class="w-full min-h-[15rem] max-h-[50vh] p-2.5 border border-gray-300 rounded-xl font-mono text-sm overflow-y-auto whitespace-pre-wrap resize-y bg-gray-50 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="💡 Kode HTML + Tailwind akan muncul di sini..."
          ></pre>
          <div class="flex flex-wrap justify-between items-center gap-4 mt-4">
            <div class="flex flex-wrap gap-2 items-center-safe">
              <button
                 id="copy-button"
                class="cursor-pointer bg-gray-800 text-white px-5 py-2 rounded-xl hover:bg-black transition-all text-sm"
              >
                <i class="fa-solid fa-copy"></i> Salin
              </button>
              <button id="show-preview" class="cursor-pointer bg-gray-800 text-white px-5 py-2 rounded-xl hover:bg-black transition-all text-sm">
                <i class="fa-solid fa-eye"></i> Pratinjau
              </button>
            </div>
            <label class="inline-flex gap-3 items-center cursor-pointer">
              <a href="/pricing.html" class="cursor-pointer px-4 py-2 text-sm rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                Upgrade Sekarang
              </a>
            </label>
          </div>
        </div>

        <div class="md:col-span-1 order-2 md:order-2 mt-6 md:mt-0">
          <div class="relative">
            <label for="multi-input" class="block text-sm font-medium text-gray-500 mb-1">Masukkan URL website atau instruksi desain</label>
            <textarea
              id="multi-input"
              class="w-full p-4 pr-12 border border-gray-300 rounded-xl resize-y focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-400 text-base"
              placeholder="🔗 Masukkan URL website atau tulis instruksi desain..."
              rows="4"
            ></textarea>

            <div class="absolute bottom-3 left-3 w-1/2">
              <select id="model-select" class="w-full cursor-pointer px-2 py-1 text-gray-500 border border-gray-400 rounded-md text-sm bg-white">
                <option value="@cf/qwen/qwen1.5-0.5b-chat" selected>⚡ Qwen 0.5B (Gratis)</option>
                <option value="@cf/meta/llama-3.2-1b-instruct">🐣 LLaMA 3.2-1B (Gratis 2x/hari)</option>
                <option value="@cf/mistralai/mistral-small-3.1-24b-instruct">🧠 Mistral 24B (Rp 7.500)</option>
                <option value="@cf/deepseek-ai/deepseek-r1-distill-qwen-32b">🧨 DeepSeek 32B (Rp 12.000)</option>
              </select>
            </div>

            <button
              id="transform-button"
              class="cursor-pointer absolute bottom-3 right-3 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-3"
              title="Generate UI dari input"
            >
              <i class="fa-solid fa-wand-magic-sparkles"></i>
            </button>
          </div>

          <div class="flex flex-wrap justify-between items-center-safe mt-2">
            <p id="model-price" class="text-sm text-gray-500">Harga: Gratis</p>
            <button id="pay-now" class="tombol-bayar cursor-pointer px-4 py-2 bg-blue-600 text-white rounded-md hidden text-sm">
              🔒 Bayar untuk Akses
            </button>
          </div>

          <div id="loading" class="hidden text-sm text-blue-400 animate-pulse text-center mt-4">
            <i class="fa-solid fa-spinner fa-spin mr-2"></i> Sedang memproses dengan AI...
          </div>
        </div>
      </div>
    </div>

<div id="preview-modal" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center">
  <div
    id="preview-content"
    class="w-full h-full opacity-0 translate-y-0 transition-all duration-700 ease-out"
  >
    <button id="close-preview"
      class="absolute cursor-pointer top-5 right-5 z-50 text-white bg-red-600 hover:bg-red-700 px-3 py-1 rounded-lg shadow-lg">
    <i class="fa-solid fa-circle-xmark"></i>
    </button>
<iframe id="preview-frame" sandbox="allow-scripts"></iframe>

    <iframe
      id="preview-frame"
      class="w-full h-full border-none rounded-md shadow-2xl"
      sandbox="allow-scripts"
    ></iframe>
  </div>
</div>

<div id="pricing-modal" class="fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center hidden transition-opacity duration-500 ease-out">
  <div class="glassmorph rounded-2xl shadow-2xl p-8 max-w-md w-full text-center animate-fadeInUp">
    <h2 class="text-3xl font-bold text-gray-400 mb-4">🚫 Akses Terbatas</h2>
    <p class="text-gray-300 mb-6">
      Model ini adalah fitur <strong class="text-blue-600">PRO</strong>.<br />
      Upgrade akunmu sekarang dan biarkan kreativitasmu mengalir tanpa batas.
    </p>
    <div class="flex justify-center gap-4">
      <a href="/pricing" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Lihat Paket</a>
      <button onclick="document.getElementById('pricing-modal').classList.add('hidden')" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition">Nanti Dulu</button>
    </div>
  </div>
</div>

<div id="limit-modal" class="fixed inset-0 bg-black bg-opacity-40 z-50 hidden items-center justify-center">
  <div class="glassmorph text-gray-300 p-6 rounded-xl max-w-sm w-full shadow-lg">
    <h2 class="text-lg font-semibold text-red-600 mb-2">Batas Pemakaian Tercapai</h2>
    <p class="text-sm text-gray-600 mb-4">
      Kamu sudah mencapai batas penggunaan untuk model ini.<br>
      Silakan login atau upgrade paket untuk lanjut.
    </p>
    <div class="flex justify-end space-x-2">
      <button id="close-limit-modal" class="px-4 py-2 text-sm rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100">
        Nanti Saja
      </button>
      <a href="/pricing" class="px-4 py-2 text-sm rounded-md bg-blue-600 text-white hover:bg-blue-700">
        Upgrade Sekarang
      </a>
    </div>
  </div>
</div>

<div id="login-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center transition-opacity duration-300">
  <div class="glassmorph rounded-xl shadow-2xl p-6 w-full max-w-md animate-scale-in text-center text-gray-300 relative">
    <div class="absolute -top-5 left-1/2 transform -translate-x-1/2">
      <div class="bg-blue-600 text-white px-3 py-1 rounded-full text-xs shadow-lg uppercase tracking-wide">
        Premium Access
      </div>
    </div>
    <h2 class="text-2xl font-bold mb-2 text-gray-800">🚀 Buka Pintu Keajaiban!</h2>
    <p class="text-sm text-gray-600 mb-5">Login dulu, baru bisa ngintip fitur-fitur sakti dari Lyra ✨</p>
    <button
      id="google-login-btn"
      class="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-full font-medium transition duration-300"
    >
      <i class="fa-brands fa-google mr-2"></i> Masuk dengan Google
    </button>
    <p class="mt-4 text-xs text-gray-500">Tenang... Gak ada yang dikirim ke grup WA keluarga 😌</p>
    <button id="close-login-modal" class="mt-3 text-sm text-gray-500 hover:underline">
      Nanti aja, aku takut sukses
    </button>
  </div>
</div>

    <footer class="mt-12 text-sm text-gray-500 text-center">
      Dibuat dengan ❤️ oleh Dev Lokal • <a href="https://github.com/daffadevhosting/ui-transformers" target="_blank" class="underline hover:text-white"><i class="fa-brands fa-github"></i> GitHub</a>
    </footer>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
